{% extends 'sms/adminbase.html' %}



{% block content %}

<meta charset="utf-8">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <link href="http://netdna.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">


  <style type="text/css">
    a:link {
      text-decoration: none;
    }

    .order-card {
      color: #fff;
    }

    .bg-c-blue {
      background: linear-gradient(45deg, #4099ff,#4a5c64);
    }

    .bg-c-green {
      background: linear-gradient(45deg, #2ed8b6, #4a5c64);
    }

    .bg-c-yellow {
      background: linear-gradient(45deg, #FFB64D, #4a5c64);
    }

    .bg-c-pink {
      background: linear-gradient(45deg, #30a33a, #4a5c64);
    }


    .card {
      border-radius: 5px;
      -webkit-box-shadow: 0 1px 2.94px 0.06px rgba(4, 26, 55, 0.16);
      box-shadow: 0 1px 2.94px 0.06px rgba(4, 26, 55, 0.16);
      border: none;
      margin-bottom: 30px;
      -webkit-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
    }

    .card .card-block {
      padding: 25px;
    }

    .order-card i {
      font-size: 26px;
    }

    .f-left {
      float: left;
    }

    .f-right {
      float: right;
    }

    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }
      
      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
      
      tr:nth-child(even) {
        background-color: #dddddd;
      }
  </style>

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
 
<div class="container">

    <h1>{{ school.school_name }}</h1>
    <div class="row">
      <div class="col-md-4 col-xl-4">
        <div class="card bg-c-blue order-card">
          <div class="card-block">
            <h6 class="m-b-20">Number of Department</h6>
            <h2 class="text-right"><i class="fas fa-chalkboard-teacher f-left"></i><span>{{departments}}</span></h2>
            <!-- <p class="m-b-0">Pending Teacher<span class="f-right">{{pendingteachercount}}</span></p> -->
          </div>
        </div>
      </div>

      <div class="col-md-4 col-xl-4">
        <div class="card bg-c-green order-card">
          <div class="card-block">
            <h6 class="m-b-20">Total Student</h6>
            <h2 class="text-right"><i class="fas fa-user-graduate f-left"></i><span>{{students}}</span></h2>
            <!-- <p class="m-b-0">Pending Students<span class="f-right">{{pendingstudentcount}}</span></p> -->
          </div>
        </div>
      </div>

      <a href="#" class="col-md-4 col-xl-2" data-toggle="modal" data-target="#AddFilesModel" style="border-radius:5px;" class="btn-added">
        <div class="card bg-c-blue order-card">
          <div class="card-block">
            <h6 class="m-b-20">Add Dept</h6>
            <h2 class="text-right"><i class="fas fa-building f-left"></i><span class="f-right">{{pendingschoolcount}}</span></h2>
            <!-- <p class="m-b-0">Pending Teacher</p> -->
          </div>
        </div>
      </a>

      <div class="col-md-4 col-xl-2">
        <div class="card bg-c-blue order-card">
          <div class="card-block">
            <h6 class="m-b-20">Add Student</h6>
            <h2 class="text-right"><i class="fas fa-user-plus f-left"></i><span class="f-right">{{pendingschoolcount}}</span></h2>
            <!-- <p class="m-b-0">Pending Teacher</p> -->
          </div>
        </div>
      </div>

    </div>

    <br>



    <div class="panel panel-primary">
        <div class="panel-heading">
            <h6>School Department(s)</h6>
        </div>
        <table class="table table-hover table-striped table-bordered" id="dev-table">
            <tr >
              <th>Serial</th>
              <th>Department Name</th>
              <th>Department Code</th>
              <th>Department Email</th>
              <th>No of Students</th>
              <th>Actions</th>
            </tr>
            {% for department in school_departments %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ department.dept_name }}</td>
              <td>{{ department.dept_code }}</td>
              <td>{{ department.email }}</td>
              <td>{{ department.no_of_students }}</td>
              <td><a href="#">Edit</a> 
                  <a href="#" style="color: red;">Delete</a></td>
            </tr>
            {% endfor %}
          </table>
    </div>


        <!-- Add Department Bootstrap Modal -->
        <div class="modal fade" id="AddFilesModel" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add Department to This School</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="restaurant-sets-holder">
                        <form action="{% url 'admin-viewschool-detail' school.id %}" method="post">
                            {% csrf_token %}
                            <ul class="register-add-restaurant-tab-container restaurant-information-tab-container">
                                <li>
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                            <div class="row">
                                                <ul >
                                                    <li>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Department HOD First name: </label>{{user_form.first_name}}
                                                            </div>
                                                        </div>
                                                        <br>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Department HOD Last name: </label>{{user_form.last_name}}
                                                            </div>
                                                        </div>
                                                        <br>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Department Name: </label>{{department_form.dept_name}}
                                                            </div>
                                                        </div>
                                                        <br>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Department Code</label>{{department_form.dept_code}}
                                                            </div>
                                                        </div>
                
                                                        <br>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Department Email Address: </label>{{department_form.email}}
                                                            </div>
                                                        </div>
                    
                                                        <br>
                                                        <br>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Username: </label>{{user_form.username}}
                                                            </div>
                                                        </div>
                                                    </li>
                                                    
                                                    <li>
                                                        <div class="col-md-6-12">
                                                            <div class="field-holder">
                                                                <label>Password: </label>
                                                                {{user_form.password}}
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="field-holder">
                                                                <label>Confirm Password</label>
                                                                {{user_form.confirm_password}}
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                    
                                                
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <ul class="errorlist">
                                        {% for field in form %}
                                            {% if field.errors %}
                                                {% for error in field.errors %}
                                                    <li style="color: red;">{{error}}</li>
                                                {% endfor %}
                                            {% endif %}
                                        {% endfor %}
                    
                                        <li style="color: red;">{{form.non_field_errors}}</li>
                                    </ul>
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                            <div class="field-holder">
                                                <div class="payment-holder">
                                                    <input type="submit" value="Submit" id="btn-next-restaurant-information" class="btn btn-success">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                    
                                </li>
                            </ul>
                        </form>
                    </div>
                </div>
            </div>
            </div>
        </div>


  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
{% endblock %}